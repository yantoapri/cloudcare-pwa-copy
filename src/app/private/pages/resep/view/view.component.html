<section class="content">
  <div class="content-block">
    <div class="block-header">
      <app-breadcrumb [title]="'Resep'" [items]="['Riwayat Resep']" [active_item]=""></app-breadcrumb>
    </div>
    <h3 class="text-center mb-4">Riwayat Resep</h3>

    <div class="">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="card mb-3">
          <div class="row mt-3 mx-2">
            <div class="col-md-4">
              <div class="row mb-2">
                <div class="col-md-4 mt-2">
                  Tgl Kunjungan
                </div>
                <div class="col-md-8">
                  <input type="text" class="form-control" [(ngModel)]="tgl" bsDaterangepicker [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', rangeInputFormat : 'DD/MM/YYYY' }">
                </div>
              </div>
            </div>
            <div class="col-md-3">
                <div class="row mb-2">
                  <div class="col-md-4 mt-2">
                    Pasien
                  </div>
                  <div class="col-md-8">
                    <ng-select style="flex: 1 1 auto;" [(ngModel)]="pasien" name="pasien" placeholder="Pilih Pasien" >
                      <ng-option value="" selected hidden disabled>Pilih Pasien</ng-option>
                      <ng-option value="bpjs" >BPJS</ng-option>
                      <ng-option value="reguler">Reguler</ng-option>
                    </ng-select>
                  </div>
                </div>
            </div>
            <div class="col-md-3">
              <div class="row mb-2">
                <div class="col-md-3 mt-2">
                  Sesi
                </div>
                <div class="col-md-9">
                  <ng-select style="flex: 1 1 auto;" placeholder="Semua sesi"  
                  [searchable]="true" 
                  [clearable]="true"
                  [clearSearchOnAdd]="true"
                  (search)="prosesSelectSesi($event, 'search')"
                  (scrollToEnd)="prosesSelectSesi($event, 'last_page')"
                  (open)="prosesSelectSesi($event, 'open')"
                  (clear)="prosesSelectSesi($event, 'clear')"
                  [(ngModel)]="sesi" (change)="setSesi($event)">
                  <ng-option value="" disabled>Please enter 3 or more characters</ng-option>
                  <ng-option *ngFor="let itm of optionSesi" [value]="itm.id_jadwal_sesi">{{itm.nama_sesi}}</ng-option>  
                </ng-select>
                </div>
              </div>
             
            </div>
            <div class="col-md-2">
              <button class="btn-space" mat-raised-button color="primary" (click)="reLoadData()">Lihat Data</button>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="header">
            <!-- <h2><strong>Metode Yang diterima</strong> </h2> -->
          </div>
          <div class="body">
            
            <table class="table table-striped table-bordered table-sm" width="100%" datatable [dtOptions]="dtOptions">
              <!-- datatable [dtOptions]="dtOptions" -->
              <thead>
                <tr>
                  <th>No</th>
                  <th width="150">Tanggal Kunjungan</th>
                  <th width="100">Proses Antrian</th>
                  <th>No Invoice</th>
                  <th>Nama</th>
                  <th width="70">Tipe Pasien</th>
                  <th>Sesi</th>
                  <th>Total Harga</th>
				          <th width="100">Aksi</th>
                </tr>
              </thead>
              <tbody>

              </tbody>
            </table>



          </div>
        </div>
      </div>
    </div>
  </div>
  <ngx-spinner
	[name]="'spinner1'"
	bdColor = "rgba(0, 0, 0, 0.8)"
	size = "medium"
	color = "#fff"
	type = "ball-clip-rotate-multiple"
	[fullScreen] = "true">
	<p style="color: white" > Loading... </p>
</ngx-spinner>
</section>