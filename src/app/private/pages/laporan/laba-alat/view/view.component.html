<section class="content">
  <div class="content-block">
    <div class="block-header">
      <!-- breadcrumb -->
      <app-breadcrumb [title]="'Laporan'" [items]="[]" [active_item]="'Laporan Laba Alat Kesehatan'"></app-breadcrumb>
    </div>
    <h3 class="text-center mb-4">Laporan Laba Alat Kesehatan</h3>
    <div class="">
		<div class="card">
			<div class="header">
			  <h2><strong>Pencarian</strong> </h2>
			</div>
			<div class="body">
			  <form [formGroup]="formInput">
				<div class="row">
				  <label class="col-sm-2 col-form-label fw-bold">Periode</label>
				  <div class="col-sm-10">
					<input type="text"
					[class.border-danger]="formInput.value.date_from==null && search" 
					formControlName="date_from" placeholder="Periode" [maxDate]="maxDate"
					bsDaterangepicker autocomplete="off"
					[bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', rangeInputFormat : 'DD/MM/YYYY' }"
					class="form-control">
					<div class="form-text text-danger"
						*ngIf="formInput.value.date_from==null && search">
						Periode tidak boleh kosong
					  </div>
				  </div>
				</div>
  
				<div class="row">
				  <div class="col-sm-12 text-right">
					<button class="btn-space" mat-raised-button color="primary" (click)="reLoadData()" type="button"><i class="fa fa-search"></i> Cari</button>
				  </div>
				</div>
			  </form>
			</div>
		  </div>
		  <div class="row">
			<div class="col-md-4 mb-1">
				<div class="card card-box card-statistic-2 ">
					<div class="card-body">
					  <div class="clearfix p-2">
						<h5 class="m-b-15 line2">Laba Kotor</h5>
						<h2 class="text-end">
						  <i class="fas fa-chart-line text-info float-start" ></i>
						  <span class="col-green">{{total}}</span>
						</h2>
					  </div>
					</div>
				  </div>
			</div>
			<div class="col-md-4 mb-1">
				<div class="card card-box card-statistic-2 ">
					<div class="card-body">
					  <div class="clearfix p-2">
						<h5 class="m-b-15 line2">Persentase Laba Kotor Dari Penjualan</h5>
						<h2 class="text-end">
						  <i class="fas fa-chart-pie text-warning float-start" ></i>
						  <span class="col-green">{{jml}}%</span>
						</h2>
					  </div>
					</div>
				  </div>
			</div>
			<div class="col-md-4 mb-1">
				<div class="card card-box card-statistic-2 ">
                  <div class="card-body text-center">
					<h5 class="mt-3 line3">Laba kotor yang baik berkisar antara 20-25% dan sangat baik jika > 25%</h5>
				  </div>  
                </div>
			</div>
			
		</div>
		<div class="row mb-2">
			<div class="col-md-6 mb-2">
				<div class="card">
					<div class="header">
						<h5 class="w100">
							<b class="left mb-3">50 barang dengan profit tertinggi</b>
							<span class="right mb-3">
								<button class="btn-space bg-success text-light" mat-raised-button color="success"(click)="exportProfit1()"><i class="fas fa-download"></i> Download</button>
							</span>
						</h5>
					</div>
					<div class="card-body">
						<table class="table table-striped table-bordered table-sm table-sm" width="100%" datatable [dtOptions]="dtOptionsProfit1" [dtTrigger]="dtTrigger1">
						<thead>
						<tr>
							<th>No</th>
							<th>Produk</th>
							<th>Jumlah Terjual</th>
							<th>Satuan</th>
							<th>Total Profit</th>
						</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
					</div>
				</div>
			</div>
			<div class="col-md-6 mb-2">
				<div class="card">
					<div class="header">
						<h5 class="w100">
							<b class="left mb-3">50 barang dengan profit terendah</b>
							<span class="right mb-3">
								<button class="btn-space bg-success text-light" mat-raised-button color="success"(click)="exportProfit2()"><i class="fas fa-download"></i> Download</button>
							</span>
						</h5>
					</div>
					<div class="card-body">
						<table class="table table-striped table-bordered table-sm table-sm" width="100%" datatable [dtOptions]="dtOptionsProfit2" [dtTrigger]="dtTrigger2">
						<thead>
						<tr>
							<th>No</th>
							<th>Produk</th>
							<th>Jumlah Terjual</th>
							<th>Satuan</th>
							<th>Total Profit</th>
						</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
					</div>
				</div>
			</div>
		</div>
	
    </div>
  </div>
  <ngx-spinner
[name]="'spinner1'"
bdColor = "rgba(0, 0, 0, 0.8)"
size = "medium"
color = "#fff"
type = "ball-clip-rotate-multiple"
[fullScreen] = "true">
<p style="color: white" > Loading... </p>
</ngx-spinner>
</section>
